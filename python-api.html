
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Python API &#8212; CytoTable v0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Data Architecture" href="architecture.data.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="python-api">
<h1>Python API<a class="headerlink" href="#python-api" title="Permalink to this heading">¶</a></h1>
<section id="module-cytotable.convert">
<span id="convert"></span><h2>Convert<a class="headerlink" href="#module-cytotable.convert" title="Permalink to this heading">¶</a></h2>
<p>CytoTable: convert - transforming data for use with pyctyominer.</p>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert._to_parquet">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">_to_parquet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_datatype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compartments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifying_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_common_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_null</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type_cast_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_tablenumber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></span><a class="reference internal" href="_modules/cytotable/convert.html#_to_parquet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.convert._to_parquet" title="Permalink to this definition">¶</a></dt>
<dd><p>Export data to parquet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_path</strong> – str:
str reference to read source files from.
Note: may be local or remote object-storage
location using convention “s3://…” or similar.</p></li>
<li><p><strong>dest_path</strong> – str:
Path to write files to. This path will be used for
intermediary data work and must be a new file or directory path.
This parameter will result in a directory on <cite>join=False</cite>.
This parameter will result in a single file on <cite>join=True</cite>.
Note: this may only be a local path.</p></li>
<li><p><strong>source_datatype</strong> – Optional[str]: (Default value = None)
Source datatype to focus on during conversion.</p></li>
<li><p><strong>metadata</strong> – Union[List[str], Tuple[str, …]]:
Metadata names to use for conversion.</p></li>
<li><p><strong>compartments</strong> – Union[List[str], Tuple[str, …]]: (Default value = None)
Compartment names to use for conversion.</p></li>
<li><p><strong>identifying_columns</strong> – Union[List[str], Tuple[str, …]]:
Column names which are used as ID’s and as a result need to be
ignored with regards to renaming.</p></li>
<li><p><strong>concat</strong> – bool:
Whether to concatenate similar files together.</p></li>
<li><p><strong>join</strong> – bool:
Whether to join the compartment data together into one dataset.</p></li>
<li><p><strong>joins</strong> – str:
DuckDB-compatible SQL which will be used to perform the join operations.</p></li>
<li><p><strong>chunk_size</strong> – Optional[int],
Size of join chunks which is used to limit data size during join ops.</p></li>
<li><p><strong>infer_common_schema</strong> – bool:  (Default value = True)
Whether to infer a common schema when concatenating sources.</p></li>
<li><p><strong>drop_null</strong> – bool:
Whether to drop null results.</p></li>
<li><p><strong>sort_output</strong> – bool
Specifies whether to sort cytotable output or not.</p></li>
<li><p><strong>page_keys</strong> – Dict[str, str]
A dictionary which defines which column names are used for keyset pagination
in order to perform data extraction.</p></li>
<li><p><strong>data_type_cast_map</strong> – Dict[str, str]
A dictionary mapping data type groups to specific types.
Roughly includes Arrow data types language from:
<a class="reference external" href="https://arrow.apache.org/docs/python/api/datatypes.html">https://arrow.apache.org/docs/python/api/datatypes.html</a></p></li>
<li><p><strong>**kwargs</strong> – Any:
Keyword args used for gathering source data, primarily relevant for
Cloudpathlib cloud-based client configuration.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Grouped sources which include metadata about destination filepath
where parquet file was written or a string filepath for the joined
result.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[Dict[str, List[Dict[str, Any]]], str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert.convert">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_datatype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'parquet'</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_datatype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compartments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifying_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer_common_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_null</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type_cast_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_tablenumber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cellprofiler_csv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parsl_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Config</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></span><a class="reference internal" href="_modules/cytotable/convert.html#convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.convert.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert file-based data from various sources to Pycytominer-compatible standards.</p>
<p>Note: source paths may be local or remote object-storage location
using convention “s3://…” or similar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_path</strong> – str:
str reference to read source files from.
Note: may be local or remote object-storage location
using convention “s3://…” or similar.</p></li>
<li><p><strong>dest_path</strong> – str:
Path to write files to. This path will be used for
intermediary data work and must be a new file or directory path.
This parameter will result in a directory on <cite>join=False</cite>.
This parameter will result in a single file on <cite>join=True</cite>.
Note: this may only be a local path.</p></li>
<li><p><strong>dest_datatype</strong> – Literal[“parquet”]:
Destination datatype to write to.</p></li>
<li><p><strong>source_datatype</strong> – Optional[str]:  (Default value = None)
Source datatype to focus on during conversion.</p></li>
<li><p><strong>metadata</strong> – Union[List[str], Tuple[str, …]]:
Metadata names to use for conversion.</p></li>
<li><p><strong>compartments</strong> – Union[List[str], Tuple[str, str, str, str]]:
(Default value = None)
Compartment names to use for conversion.</p></li>
<li><p><strong>identifying_columns</strong> – Union[List[str], Tuple[str, …]]:
Column names which are used as ID’s and as a result need to be
ignored with regards to renaming.</p></li>
<li><p><strong>concat</strong> – bool:  (Default value = True)
Whether to concatenate similar files together.</p></li>
<li><p><strong>join</strong> – bool:  (Default value = True)
Whether to join the compartment data together into one dataset</p></li>
<li><p><strong>joins</strong> – str: (Default value = None):
DuckDB-compatible SQL which will be used to perform the join operations.</p></li>
<li><p><strong>chunk_size</strong> – Optional[int] (Default value = None)
Size of join chunks which is used to limit data size during join ops</p></li>
<li><p><strong>infer_common_schema</strong> – bool (Default value = True)
Whether to infer a common schema when concatenating sources.</p></li>
<li><p><strong>data_type_cast_map</strong> – Dict[str, str], (Default value = None)
A dictionary mapping data type groups to specific types.
Roughly includes Arrow data types language from:
<a class="reference external" href="https://arrow.apache.org/docs/python/api/datatypes.html">https://arrow.apache.org/docs/python/api/datatypes.html</a></p></li>
<li><p><strong>add_tablenumber</strong> – Optional[bool]
Whether to add a calculated tablenumber which helps differentiate
various repeated values (such as ObjectNumber) within source data.
Useful for processing multiple SQLite or CSV data sources together
to retain distinction from each dataset.</p></li>
<li><p><strong>page_keys</strong> – str:
The table and column names to be used for key pagination.
Uses the form: {“table_name”:”column_name”}.
Expects columns to include numeric data (ints or floats).
Interacts with the <cite>chunk_size</cite> parameter to form
pages of <cite>chunk_size</cite>.</p></li>
<li><p><strong>sort_output</strong> – bool (Default value = True)
Specifies whether to sort cytotable output or not.</p></li>
<li><p><strong>drop_null</strong> – bool (Default value = False)
Whether to drop nan/null values from results</p></li>
<li><p><strong>preset</strong> – str (Default value = “cellprofiler_csv”)
an optional group of presets to use based on common configurations</p></li>
<li><p><strong>parsl_config</strong> – Optional[parsl.Config] (Default value = None)
Optional Parsl configuration to use for running CytoTable operations.
Note: when using CytoTable multiple times in the same process,
CytoTable will use the first provided configuration for all runs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Union[Dict[str, List[Dict[str, Any]]], str]</dt><dd><p>Grouped sources which include metadata about destination filepath
where parquet file was written or str of joined result filepath.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">cytotable</span> <span class="kn">import</span> <span class="n">convert</span>

<span class="c1"># using a local path with cellprofiler csv presets</span>
<span class="n">convert</span><span class="p">(</span>
    <span class="n">source_path</span><span class="o">=</span><span class="s2">&quot;./tests/data/cellprofiler/ExampleHuman&quot;</span><span class="p">,</span>
    <span class="n">source_datatype</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span>
    <span class="n">dest_path</span><span class="o">=</span><span class="s2">&quot;ExampleHuman.parquet&quot;</span><span class="p">,</span>
    <span class="n">dest_datatype</span><span class="o">=</span><span class="s2">&quot;parquet&quot;</span><span class="p">,</span>
    <span class="n">preset</span><span class="o">=</span><span class="s2">&quot;cellprofiler_csv&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># using an s3-compatible path with no signature for client</span>
<span class="c1"># and cellprofiler csv presets</span>
<span class="n">convert</span><span class="p">(</span>
    <span class="n">source_path</span><span class="o">=</span><span class="s2">&quot;s3://s3path&quot;</span><span class="p">,</span>
    <span class="n">source_datatype</span><span class="o">=</span><span class="s2">&quot;csv&quot;</span><span class="p">,</span>
    <span class="n">dest_path</span><span class="o">=</span><span class="s2">&quot;s3_local_result&quot;</span><span class="p">,</span>
    <span class="n">dest_datatype</span><span class="o">=</span><span class="s2">&quot;parquet&quot;</span><span class="p">,</span>
    <span class="n">concat</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">preset</span><span class="o">=</span><span class="s2">&quot;cellprofiler_csv&quot;</span><span class="p">,</span>
    <span class="n">no_sign_request</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># using local path with cellprofiler sqlite presets</span>
<span class="n">convert</span><span class="p">(</span>
    <span class="n">source_path</span><span class="o">=</span><span class="s2">&quot;example.sqlite&quot;</span><span class="p">,</span>
    <span class="n">dest_path</span><span class="o">=</span><span class="s2">&quot;example.parquet&quot;</span><span class="p">,</span>
    <span class="n">dest_datatype</span><span class="o">=</span><span class="s2">&quot;parquet&quot;</span><span class="p">,</span>
    <span class="n">preset</span><span class="o">=</span><span class="s2">&quot;cellprofiler_sqlite&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert._concat_join_sources">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">_concat_join_sources</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cytotable.convert._concat_join_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate join sources from parquet-based chunks.</p>
<p>For a reference to data concatenation within Arrow see the following:
<a class="reference external" href="https://arrow.apache.org/docs/python/generated/pyarrow.concat_tables.html">https://arrow.apache.org/docs/python/generated/pyarrow.concat_tables.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sources</strong> – Dict[str, List[Dict[str, Any]]]:
Grouped datasets of files which will be used by other functions.
Includes the metadata concerning location of actual data.</p></li>
<li><p><strong>dest_path</strong> – str:
Destination path to write file-based content.</p></li>
<li><p><strong>join_sources</strong> – List[str]:
List of local filepath destination for join source chunks
which will be concatenated.</p></li>
<li><p><strong>sort_output</strong> – bool
Specifies whether to sort cytotable output or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>str</dt><dd><p>Path to concatenated file which is created as a result of this function.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert._concat_source_group">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">_concat_source_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cytotable.convert._concat_source_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate group of source data together as single file.</p>
<p>For a reference to data concatenation within Arrow see the following:
<a class="reference external" href="https://arrow.apache.org/docs/python/generated/pyarrow.concat_tables.html">https://arrow.apache.org/docs/python/generated/pyarrow.concat_tables.html</a></p>
<p>Notes: this function presumes a multi-directory, multi-file common data
structure for compartments and other data. For example:</p>
<p>Source (file tree):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root
├──<span class="w"> </span>subdir_1
│<span class="w">  </span>└──<span class="w"> </span>Cells.csv
└──<span class="w"> </span>subdir_2
<span class="w">    </span>└──<span class="w"> </span>Cells.csv
</pre></div>
</div>
<p>Becomes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># earlier data read into parquet chunks from multiple</span>
<span class="c1"># data source files.</span>
<span class="n">read_data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;cells-1.parquet&quot;</span><span class="p">,</span> <span class="s2">&quot;cells-2.parquet&quot;</span><span class="p">]},</span>
    <span class="p">{</span><span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;cells-1.parquet&quot;</span><span class="p">,</span> <span class="s2">&quot;cells-2.parquet&quot;</span><span class="p">]},</span>
<span class="p">]</span>

<span class="c1"># focus of this function</span>
<span class="n">concatted</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;cells.parquet&quot;</span><span class="p">]}]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_group_name</strong> – str
Name of data source source group (for common compartments, etc).</p></li>
<li><p><strong>source_group</strong> – List[Dict[str, Any]]:
Data structure containing grouped data for concatenation.</p></li>
<li><p><strong>dest_path</strong> – Optional[str] (Default value = None)
Optional destination path for concatenated sources.</p></li>
<li><p><strong>common_schema</strong> – List[Tuple[str, str]] (Default value = None)
Common schema to use for concatenation amongst arrow tables
which may have slightly different but compatible schema.</p></li>
<li><p><strong>sort_output</strong> – bool
Specifies whether to sort cytotable output or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>List[Dict[str, Any]]</dt><dd><p>Updated dictionary containing concatenated sources.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert._get_table_columns_and_types">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">_get_table_columns_and_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cytotable.convert._get_table_columns_and_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather column data from table through duckdb.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – Dict[str, Any]
Contains source data details. Represents a single
file or table of some kind.</p></li>
<li><p><strong>sort_output</strong> – Specifies whether to sort cytotable output or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>List[Dict[str, str]]</dt><dd><p>list of dictionaries which each include column level information</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert._get_table_keyset_pagination_sets">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">_get_table_keyset_pagination_sets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cytotable.convert._get_table_keyset_pagination_sets" title="Permalink to this definition">¶</a></dt>
<dd><p>Get table data chunk keys for later use in capturing segments
of values. This work also provides a chance to catch problematic
input data which will be ignored with warnings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – Dict[str, Any]
Contains the source data to be chunked. Represents a single
file or table of some kind.</p></li>
<li><p><strong>chunk_size</strong> – int
The size in rowcount of the chunks to create.</p></li>
<li><p><strong>page_key</strong> – str
The column name to be used to identify pagination chunks.
Expected to be of numeric type (int, float) for ordering.</p></li>
<li><p><strong>sql_stmt</strong> – Optional sql statement to form the pagination set from.
Default behavior extracts pagination sets from the full
data source.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>List[Any]</dt><dd><p>List of keys to use for reading the data later on.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert._infer_source_group_common_schema">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">_infer_source_group_common_schema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cytotable.convert._infer_source_group_common_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Infers a common schema for group of parquet files which may have
similar but slightly different schema or data. Intended to assist with
data concatenation and other operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_group</strong> – List[Dict[str, Any]]:
Group of one or more data sources which includes metadata about
path to parquet data.</p></li>
<li><p><strong>data_type_cast_map</strong> – Optional[Dict[str, str]], default None
A dictionary mapping data type groups to specific types.
Roughly includes Arrow data types language from:
<a class="reference external" href="https://arrow.apache.org/docs/python/api/datatypes.html">https://arrow.apache.org/docs/python/api/datatypes.html</a></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>List[Tuple[str, str]]</dt><dd><p>A list of tuples which includes column name and PyArrow datatype.
This data will later be used as the basis for forming a PyArrow schema.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert._join_source_pageset">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">_join_source_pageset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cytotable.convert._join_source_pageset" title="Permalink to this definition">¶</a></dt>
<dd><p>Join sources based on join group keys (group of specific join column values)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dest_path</strong> – str:
Destination path to write file-based content.</p></li>
<li><p><strong>joins</strong> – str:
DuckDB-compatible SQL which will be used to perform the join
operations using the join_group keys as a reference.</p></li>
<li><p><strong>join_group</strong> – List[Dict[str, Any]]:
Group of joinable keys to be used as “chunked” filter
of overall dataset.</p></li>
<li><p><strong>drop_null</strong> – bool:
Whether to drop rows with null values within the resulting
joined data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>str</dt><dd><p>Path to joined file which is created as a result of this function.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert._prepare_join_sql">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">_prepare_join_sql</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cytotable.convert._prepare_join_sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare join SQL statement with actual locations of data based on the sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sources</strong> – Dict[str, List[Dict[str, Any]]]:
Grouped datasets of files which will be used by other functions.
Includes the metadata concerning location of actual data.</p></li>
<li><p><strong>joins</strong> – str:
DuckDB-compatible SQL which will be used to perform the join
operations using the join_group keys as a reference.</p></li>
<li><p><strong>sort_output</strong> – bool
Specifies whether to sort cytotable output or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String representing the SQL to be used in later join work.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert._prep_cast_column_data_types">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">_prep_cast_column_data_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cytotable.convert._prep_cast_column_data_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Cast data types per what is received in cast_map.</p>
<p>Example:
- columns: [{“column_id”:0, “column_name”:”colname”, “column_dtype”:”DOUBLE”}]
- data_type_cast_map: {“float”: “float32”}</p>
<p>The above passed through this function will set the “column_dtype” value
to a “REAL” dtype (“REAL” in duckdb is roughly equivalent to “float32”)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_path</strong> – str:
Path to a parquet file which will be modified.</p></li>
<li><p><strong>data_type_cast_map</strong> – <p>Dict[str, str]
A dictionary mapping data type groups to specific types.
Roughly to eventually align with DuckDB types:
<a class="reference external" href="https://duckdb.org/docs/sql/data_types/overview">https://duckdb.org/docs/sql/data_types/overview</a></p>
<p>Note: includes synonym matching for common naming convention
use in Pandas and/or PyArrow via cytotable.utils.DATA_TYPE_SYNONYMS</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>List[Dict[str, str]]</dt><dd><p>list of dictionaries which each include column level information</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert._set_tablenumber">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">_set_tablenumber</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cytotable.convert._set_tablenumber" title="Permalink to this definition">¶</a></dt>
<dd><p>Gathers a “TableNumber” from the image table (if CSV) or
SQLite file (if SQLite source) which is a unique identifier
intended to help differentiate between imagenumbers
to create distinct records for single-cell profiles
referenced across multiple source data exports.
For example, ImageNumber column values from CellProfiler
will repeat across exports, meaning we may lose distinction
when combining multiple export files together through CytoTable.</p>
<p>Note:
- If using CSV data sources, the image.csv table is used for checksum.
- If using SQLite data sources, the entire SQLite database is used for checksum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sources</strong> – Dict[str, List[Dict[str, Any]]]
Contains metadata about data tables and related contents.</p></li>
<li><p><strong>add_tablenumber</strong> – Optional[bool]
Whether to add a calculated tablenumber.
Note: when False, adds None as the tablenumber</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>List[Dict[str, Any]]</dt><dd><p>New source group with added TableNumber details.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert._prepend_column_name">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">_prepend_column_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cytotable.convert._prepend_column_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename columns using the source group name, avoiding identifying columns.</p>
<p>Notes:
* A source_group_name represents a filename referenced as part of what
is specified within targets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_path</strong> – str:
Path to a parquet file which will be modified.</p></li>
<li><p><strong>source_group_name</strong> – str:
Name of data source source group (for common compartments, etc).</p></li>
<li><p><strong>identifying_columns</strong> – List[str]:
Column names which are used as ID’s and as a result need to be
treated differently when renaming.</p></li>
<li><p><strong>metadata</strong> – Union[List[str], Tuple[str, …]]:
List of source data names which are used as metadata.</p></li>
<li><p><strong>compartments</strong> – List[str]:
List of source data names which are used as compartments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>str</dt><dd><p>Path to the modified file.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.convert._source_pageset_to_parquet">
<span class="sig-prename descclassname"><span class="pre">cytotable.convert.</span></span><span class="sig-name descname"><span class="pre">_source_pageset_to_parquet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cytotable.convert._source_pageset_to_parquet" title="Permalink to this definition">¶</a></dt>
<dd><p>Export source data to chunked parquet file using chunk size and offsets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_group_name</strong> – str
Name of the source group (for ex. compartment or metadata table name).</p></li>
<li><p><strong>source</strong> – Dict[str, Any]
Contains the source data to be chunked. Represents a single
file or table of some kind along with collected information about table.</p></li>
<li><p><strong>pageset</strong> – Tuple[int, int]
The pageset for chunking the data from source.</p></li>
<li><p><strong>dest_path</strong> – str
Path to store the output data.</p></li>
<li><p><strong>sort_output</strong> – bool
Specifies whether to sort cytotable output or not.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>str</dt><dd><p>A string of the output filepath.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="module-cytotable.sources">
<span id="sources"></span><h2>Sources<a class="headerlink" href="#module-cytotable.sources" title="Permalink to this heading">¶</a></h2>
<p>CytoTable: sources - tasks and flows related to
source data and metadata for performing conversion work.</p>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.sources._build_path">
<span class="sig-prename descclassname"><span class="pre">cytotable.sources.</span></span><span class="sig-name descname"><span class="pre">_build_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">AnyPath</span></span></span><a class="reference internal" href="_modules/cytotable/sources.html#_build_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.sources._build_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a path client or return local path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – Union[pathlib.Path, Any]:
Path to seek filepaths within.</p></li>
<li><p><strong>**kwargs</strong> – Any
keyword arguments to be used with
Cloudpathlib.CloudPath.client .</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Union[pathlib.Path, Any]</dt><dd><p>A local pathlib.Path or Cloudpathlib.AnyPath type path.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.sources._file_is_more_than_one_line">
<span class="sig-prename descclassname"><span class="pre">cytotable.sources.</span></span><span class="sig-name descname"><span class="pre">_file_is_more_than_one_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">AnyPath</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/cytotable/sources.html#_file_is_more_than_one_line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.sources._file_is_more_than_one_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the file has more than one line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>Union</em><em>[</em><em>pathlib.Path</em><em>, </em><em>AnyPath</em><em>]</em>) – The path to the file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the file has more than one line, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#cytotable.exceptions.NoInputDataException" title="cytotable.exceptions.NoInputDataException"><strong>NoInputDataException</strong></a> – If the file has zero lines.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.sources._filter_source_filepaths">
<span class="sig-prename descclassname"><span class="pre">cytotable.sources.</span></span><span class="sig-name descname"><span class="pre">_filter_source_filepaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_datatype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/cytotable/sources.html#_filter_source_filepaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.sources._filter_source_filepaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter source filepaths based on provided source_datatype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sources</strong> – Dict[str, List[Dict[str, Any]]]
Grouped datasets of files which will be used by other functions.</p></li>
<li><p><strong>source_datatype</strong> – str
Source datatype to use for filtering the dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Dict[str, List[Dict[str, Any]]]</dt><dd><p>Data structure which groups related files based on the datatype.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.sources._gather_sources">
<span class="sig-prename descclassname"><span class="pre">cytotable.sources.</span></span><span class="sig-name descname"><span class="pre">_gather_sources</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_datatype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/cytotable/sources.html#_gather_sources"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.sources._gather_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Flow for gathering data sources for conversion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_path</strong> – str:
Where to gather file-based data from.</p></li>
<li><p><strong>source_datatype</strong> – Optional[str]:  (Default value = None)
The source datatype (extension) to use for reading the tables.</p></li>
<li><p><strong>targets</strong> – Optional[List[str]]:  (Default value = None)
The source file names to target within the provided path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Dict[str, List[Dict[str, Any]]]</dt><dd><p>Data structure which groups related files based on the compartments.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.sources._get_source_filepaths">
<span class="sig-prename descclassname"><span class="pre">cytotable.sources.</span></span><span class="sig-name descname"><span class="pre">_get_source_filepaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">AnyPath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">targets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_datatype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/cytotable/sources.html#_get_source_filepaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.sources._get_source_filepaths" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather dataset of filepaths from a provided directory path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – Union[pathlib.Path, Any]:
Either a directory path to seek filepaths within or a path directly to a file.</p></li>
<li><p><strong>targets</strong> – List[str]:
Compartment and metadata names to seek within the provided path.</p></li>
<li><p><strong>source_datatype</strong> – Optional[str]:  (Default value = None)
The source datatype (extension) to use for reading the tables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Dict[str, List[Dict[str, Any]]]</dt><dd><p>Data structure which groups related files based on the compartments.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.sources._infer_source_datatype">
<span class="sig-prename descclassname"><span class="pre">cytotable.sources.</span></span><span class="sig-name descname"><span class="pre">_infer_source_datatype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_datatype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/cytotable/sources.html#_infer_source_datatype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.sources._infer_source_datatype" title="Permalink to this definition">¶</a></dt>
<dd><p>Infers and optionally validates datatype (extension) of files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sources</strong> – Dict[str, List[Dict[str, Any]]]:
Grouped datasets of files which will be used by other functions.</p></li>
<li><p><strong>source_datatype</strong> – Optional[str]:  (Default value = None)
Optional source datatype to validate within the context of
detected datatypes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>str</dt><dd><p>A string of the datatype detected or validated source_datatype.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="module-cytotable.utils">
<span id="utils"></span><h2>Utils<a class="headerlink" href="#module-cytotable.utils" title="Permalink to this heading">¶</a></h2>
<p>Utility functions for CytoTable</p>
<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils.Parsl_AppBase_init_for_docs">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">Parsl_AppBase_init_for_docs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cytotable/utils.html#Parsl_AppBase_init_for_docs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils.Parsl_AppBase_init_for_docs" title="Permalink to this definition">¶</a></dt>
<dd><p>A function to extend Parsl.app.app.AppBase with
docstring from decorated functions rather than
the decorators from Parsl. Used for
Sphinx documentation purposes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._arrow_type_cast_if_specified">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_arrow_type_cast_if_specified</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type_cast_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#_arrow_type_cast_if_specified"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._arrow_type_cast_if_specified" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to cast data types for an PyArrow field using provided a data_type_cast_map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column</strong> – Dict[str, str]:
Dictionary which includes a column idx, name, and dtype</p></li>
<li><p><strong>data_type_cast_map</strong> – Dict[str, str]
A dictionary mapping data type groups to specific types.
Roughly includes Arrow data types language from:
<a class="reference external" href="https://arrow.apache.org/docs/python/api/datatypes.html">https://arrow.apache.org/docs/python/api/datatypes.html</a>
Example: {“float”: “float32”}</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Dict[str, str]</dt><dd><p>A potentially data type updated dictionary of column information</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._cache_cloudpath_to_local">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_cache_cloudpath_to_local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyPath</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#_cache_cloudpath_to_local"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._cache_cloudpath_to_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a cloudpath and uses cache to convert to a local copy
for use in scenarios where remote work is not possible (sqlite).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – Union[str, AnyPath]
A filepath which will be checked and potentially
converted to a local filepath.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>pathlib.Path</dt><dd><p>A local pathlib.Path to cached version of cloudpath file.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._column_sort">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_column_sort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cytotable/utils.html#_column_sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._column_sort" title="Permalink to this definition">¶</a></dt>
<dd><p>A custom sort for column values as a list.
To be used with sorted and Pyarrow tables.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._default_parsl_config">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_default_parsl_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/cytotable/utils.html#_default_parsl_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._default_parsl_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a default Parsl configuration for use with CytoTable.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._duckdb_reader">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_duckdb_reader</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DuckDBPyConnection</span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#_duckdb_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._duckdb_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a DuckDB connection with the
sqlite_scanner installed and loaded.</p>
<p>Note: using this function assumes implementation will
close the subsequently created DuckDB connection using
<cite>_duckdb_reader().close()</cite> or using a context manager,
for ex., using: <cite>with _duckdb_reader() as ddb_reader:</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>duckdb.DuckDBPyConnection</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._expand_path">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_expand_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">AnyPath</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">AnyPath</span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#_expand_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._expand_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Expands “~” user directory references with the user’s home directory, and expands variable references with values from the environment. After user/variable expansion, the path is resolved and an absolute path is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – Union[str, pathlib.Path, CloudPath]:
Path to expand.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Union[pathlib.Path, Any]</dt><dd><p>A local pathlib.Path or Cloudpathlib.AnyPath type path.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._gather_tablenumber_checksum">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_gather_tablenumber_checksum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1048576</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#_gather_tablenumber_checksum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._gather_tablenumber_checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>Build and return a checksum for use as a unique identifier across datasets
referenced from cytominer-database:
<a class="reference external" href="https://github.com/cytomining/cytominer-database/blob/master/cytominer_database/ingest_variable_engine.py#L129">https://github.com/cytomining/cytominer-database/blob/master/cytominer_database/ingest_variable_engine.py#L129</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pathname</strong> – str:
A path to a file with which to generate the checksum on.</p></li>
<li><p><strong>buffer_size</strong> – int:
Buffer size to use for reading data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>int</dt><dd><p>an integer representing the checksum of the pathname file.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._generate_pagesets">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_generate_pagesets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#_generate_pagesets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._generate_pagesets" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a pageset (keyset pagination) from a list of keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>List</strong><strong>[</strong><strong>Union</strong><strong>[</strong><strong>int</strong> (<em>keys</em>) – List of keys to paginate.</p></li>
<li><p><strong>float</strong><strong>]</strong><strong>]</strong> – List of keys to paginate.</p></li>
<li><p><strong>int</strong> (<em>chunk_size</em>) – Size of each chunk/page.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of (start_key, end_key) tuples representing each page.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Tuple[Union[int, float], Union[int, float]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._get_cytotable_version">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_get_cytotable_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#_get_cytotable_version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._get_cytotable_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Seeks the current version of CytoTable using either pkg_resources
or dunamai to determine the current version being used.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>str</dt><dd><p>A string representing the version of CytoTable currently being used.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._natural_sort">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_natural_sort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_to_sort</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cytotable/utils.html#_natural_sort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._natural_sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the given iterable using natural sort adapted from approach
provided by the following link:
<a class="reference external" href="https://stackoverflow.com/a/4836734">https://stackoverflow.com/a/4836734</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>list_to_sort</strong> – List:
The list to sort.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The sorted list.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._parsl_loaded">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_parsl_loaded</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#_parsl_loaded"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._parsl_loaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether Parsl configuration has already been loaded.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._sqlite_mixed_type_query_to_parquet">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_sqlite_mixed_type_query_to_parquet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pageset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablenumber</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#_sqlite_mixed_type_query_to_parquet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._sqlite_mixed_type_query_to_parquet" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs SQLite table data extraction where one or many
columns include data values of potentially mismatched type
such that the data may be exported to Arrow for later use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_path</strong> – str:
A str which is a path to a SQLite database file.</p></li>
<li><p><strong>table_name</strong> – str:
The name of the table being queried.</p></li>
<li><p><strong>page_key</strong> – str:
The column name to be used to identify pagination chunks.</p></li>
<li><p><strong>pageset</strong> – Tuple[int, int]:
The range for values used for paginating data from source.</p></li>
<li><p><strong>sort_output</strong> – bool
Specifies whether to sort cytotable output or not.</p></li>
<li><p><strong>add_cytotable_meta</strong> – bool, default=False:
Whether to add CytoTable metadata fields or not</p></li>
<li><p><strong>tablenumber</strong> – Optional[int], default=None:
An optional table number to append to the results.
Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The resulting arrow table for the data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyarrow.Table</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._unwrap_source">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_unwrap_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">AppFuture</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">AppFuture</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#_unwrap_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._unwrap_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to unwrap futures from sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – Union[
Dict[str, Union[parsl.dataflow.futures.AppFuture, Any]],
Union[parsl.dataflow.futures.AppFuture, Any],</p></li>
<li><p><strong>]</strong> – A source is a portion of an internal data structure used by
CytoTable for processing and organizing data results.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Union[Dict[str, Any], Any]</dt><dd><p>An evaluated dictionary or other value type.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._unwrap_value">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_unwrap_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AppFuture</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#_unwrap_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._unwrap_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to unwrap futures from values or return values
where there are no futures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>val</strong> – Union[parsl.dataflow.futures.AppFuture, Any]
A value which may or may not be a Parsl future which
needs to be evaluated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Any</dt><dd><p>Returns the value as-is if there’s no future, the future
result if Parsl futures are encountered.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils._write_parquet_table_with_metadata">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">_write_parquet_table_with_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Table</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#_write_parquet_table_with_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils._write_parquet_table_with_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds metadata to parquet output from CytoTable.
Note: this mostly wraps pyarrow.parquet.write_table
<a class="reference external" href="https://arrow.apache.org/docs/python/generated/pyarrow.parquet.write_table.html">https://arrow.apache.org/docs/python/generated/pyarrow.parquet.write_table.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> – pa.Table:
Pyarrow table to be serialized as parquet table.</p></li>
<li><p><strong>**kwargs</strong> – Any:
kwargs provided to this function roughly align with
pyarrow.parquet.write_table. The following might be
examples of what to expect here:
- where: str or pyarrow.NativeFile</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cytotable.utils.evaluate_futures">
<span class="sig-prename descclassname"><span class="pre">cytotable.utils.</span></span><span class="sig-name descname"><span class="pre">evaluate_futures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/cytotable/utils.html#evaluate_futures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.utils.evaluate_futures" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates any Parsl futures for use within other tasks.
This enables a pattern of Parsl app usage as “tasks” and delayed
future result evaluation for concurrency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sources</strong> – Union[Dict[str, List[Dict[str, Any]]], List[Any], str]
Sources are an internal data structure used by CytoTable for
processing and organizing data results. They may include futures
which require asynchronous processing through Parsl, so we
process them through this function.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>Union[Dict[str, List[Dict[str, Any]]], str]</dt><dd><p>A data structure which includes evaluated futures where they were found.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="presets">
<h2>Presets<a class="headerlink" href="#presets" title="Permalink to this heading">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="cytotable.presets.config">
<span class="sig-prename descclassname"><span class="pre">cytotable.presets.</span></span><span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#cytotable.presets.config" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration presets for CytoTable</p>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="module-cytotable.exceptions">
<span id="exceptions"></span><h2>Exceptions<a class="headerlink" href="#module-cytotable.exceptions" title="Permalink to this heading">¶</a></h2>
<p>Provide hierarchy of exceptions for CytoTable</p>
<dl class="py exception">
<dt class="sig sig-object py" id="cytotable.exceptions.CytoTableException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cytotable.exceptions.</span></span><span class="sig-name descname"><span class="pre">CytoTableException</span></span><a class="reference internal" href="_modules/cytotable/exceptions.html#CytoTableException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.exceptions.CytoTableException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Root exception for custom hierarchy of exceptions
with CytoTable.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="cytotable.exceptions.DatatypeException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cytotable.exceptions.</span></span><span class="sig-name descname"><span class="pre">DatatypeException</span></span><a class="reference internal" href="_modules/cytotable/exceptions.html#DatatypeException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.exceptions.DatatypeException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cytotable.exceptions.CytoTableException" title="cytotable.exceptions.CytoTableException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytoTableException</span></code></a></p>
<p>Exception for datatype challenges.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="cytotable.exceptions.NoInputDataException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cytotable.exceptions.</span></span><span class="sig-name descname"><span class="pre">NoInputDataException</span></span><a class="reference internal" href="_modules/cytotable/exceptions.html#NoInputDataException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.exceptions.NoInputDataException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cytotable.exceptions.CytoTableException" title="cytotable.exceptions.CytoTableException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytoTableException</span></code></a></p>
<p>Exception for no input data.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="cytotable.exceptions.SchemaException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cytotable.exceptions.</span></span><span class="sig-name descname"><span class="pre">SchemaException</span></span><a class="reference internal" href="_modules/cytotable/exceptions.html#SchemaException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cytotable.exceptions.SchemaException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cytotable.exceptions.CytoTableException" title="cytotable.exceptions.CytoTableException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytoTableException</span></code></a></p>
<p>Exception for schema challenges.</p>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">CytoTable</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=cytomining&repo=CytoTable&type=star&count=false&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_of_conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Python API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-cytotable.convert">Convert</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert._to_parquet"><code class="docutils literal notranslate"><span class="pre">_to_parquet()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert.convert"><code class="docutils literal notranslate"><span class="pre">convert()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert._concat_join_sources"><code class="docutils literal notranslate"><span class="pre">_concat_join_sources()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert._concat_source_group"><code class="docutils literal notranslate"><span class="pre">_concat_source_group()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert._get_table_columns_and_types"><code class="docutils literal notranslate"><span class="pre">_get_table_columns_and_types()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert._get_table_keyset_pagination_sets"><code class="docutils literal notranslate"><span class="pre">_get_table_keyset_pagination_sets()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert._infer_source_group_common_schema"><code class="docutils literal notranslate"><span class="pre">_infer_source_group_common_schema()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert._join_source_pageset"><code class="docutils literal notranslate"><span class="pre">_join_source_pageset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert._prepare_join_sql"><code class="docutils literal notranslate"><span class="pre">_prepare_join_sql()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert._prep_cast_column_data_types"><code class="docutils literal notranslate"><span class="pre">_prep_cast_column_data_types()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert._set_tablenumber"><code class="docutils literal notranslate"><span class="pre">_set_tablenumber()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert._prepend_column_name"><code class="docutils literal notranslate"><span class="pre">_prepend_column_name()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.convert._source_pageset_to_parquet"><code class="docutils literal notranslate"><span class="pre">_source_pageset_to_parquet()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-cytotable.sources">Sources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.sources._build_path"><code class="docutils literal notranslate"><span class="pre">_build_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.sources._file_is_more_than_one_line"><code class="docutils literal notranslate"><span class="pre">_file_is_more_than_one_line()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.sources._filter_source_filepaths"><code class="docutils literal notranslate"><span class="pre">_filter_source_filepaths()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.sources._gather_sources"><code class="docutils literal notranslate"><span class="pre">_gather_sources()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.sources._get_source_filepaths"><code class="docutils literal notranslate"><span class="pre">_get_source_filepaths()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.sources._infer_source_datatype"><code class="docutils literal notranslate"><span class="pre">_infer_source_datatype()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-cytotable.utils">Utils</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils.Parsl_AppBase_init_for_docs"><code class="docutils literal notranslate"><span class="pre">Parsl_AppBase_init_for_docs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._arrow_type_cast_if_specified"><code class="docutils literal notranslate"><span class="pre">_arrow_type_cast_if_specified()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._cache_cloudpath_to_local"><code class="docutils literal notranslate"><span class="pre">_cache_cloudpath_to_local()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._column_sort"><code class="docutils literal notranslate"><span class="pre">_column_sort()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._default_parsl_config"><code class="docutils literal notranslate"><span class="pre">_default_parsl_config()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._duckdb_reader"><code class="docutils literal notranslate"><span class="pre">_duckdb_reader()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._expand_path"><code class="docutils literal notranslate"><span class="pre">_expand_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._gather_tablenumber_checksum"><code class="docutils literal notranslate"><span class="pre">_gather_tablenumber_checksum()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._generate_pagesets"><code class="docutils literal notranslate"><span class="pre">_generate_pagesets()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._get_cytotable_version"><code class="docutils literal notranslate"><span class="pre">_get_cytotable_version()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._natural_sort"><code class="docutils literal notranslate"><span class="pre">_natural_sort()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._parsl_loaded"><code class="docutils literal notranslate"><span class="pre">_parsl_loaded()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._sqlite_mixed_type_query_to_parquet"><code class="docutils literal notranslate"><span class="pre">_sqlite_mixed_type_query_to_parquet()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._unwrap_source"><code class="docutils literal notranslate"><span class="pre">_unwrap_source()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._unwrap_value"><code class="docutils literal notranslate"><span class="pre">_unwrap_value()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils._write_parquet_table_with_metadata"><code class="docutils literal notranslate"><span class="pre">_write_parquet_table_with_metadata()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.utils.evaluate_futures"><code class="docutils literal notranslate"><span class="pre">evaluate_futures()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#presets">Presets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.presets.config"><code class="docutils literal notranslate"><span class="pre">config</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-cytotable.exceptions">Exceptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.exceptions.CytoTableException"><code class="docutils literal notranslate"><span class="pre">CytoTableException</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.exceptions.DatatypeException"><code class="docutils literal notranslate"><span class="pre">DatatypeException</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.exceptions.NoInputDataException"><code class="docutils literal notranslate"><span class="pre">NoInputDataException</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cytotable.exceptions.SchemaException"><code class="docutils literal notranslate"><span class="pre">SchemaException</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="architecture.data.html" title="previous chapter">Data Architecture</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Cytomining Community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/python-api.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>